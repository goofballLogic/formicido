extends layout-with-browser
    
mixin field( fieldDef )
    label
        span(class="label-text")
            = fieldDef.label
        input(type=fieldDef.type name=fieldDef.name)
    
mixin fields( fieldDefs )
    each fieldDef in fieldDefs
        +field( fieldDef )

append headers
    script(src="/public/js/step.js")
    
prepend content
    h1= step.stepName
    form(method="POST", class="variables")
        +fields( step.class.shape )
        button= "Run"
    div(id="outcome")        
    div
        textarea(id="code", readonly)